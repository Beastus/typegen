<!doctype html>

<html>
	<head>
		<title>TypeGen Demo</title>
		<link href="../modules/jquery/smoothness/jquery-ui-1.9.2.min.css" rel="stylesheet">
		<script src="../modules/jquery/jquery-1.8.3.min.js"></script>
		<script src="../modules/jquery/jquery-ui-1.9.2.min.js"></script>
		<script src="../modules/raphael/raphael-min.js"></script>
		<script src="../modules/tg/tg.js"></script>
		<script src="../modules/tg/tg.Glyph.js"></script>
		<script src="../modules/tg/tg.Font.js"></script>
		<style>
			body {
				background-color: #f3f3f3;
				font-family: sans-serif;
				font-size: 1em;
			}
			svg {
				border: solid 1px #ccc;
				background-color: #fff;
			}
			#params {
				position: absolute;
				width: 400px;
				height: 400px;
				left: 460px;
				top: 20px;
			}
			#params dt,
			#params dd {
				margin-bottom: 1em;
			}
		</style>
	</head>
	<body>
		<div id="params">
			<h1>TypeGen Demo</h1>
			<h3>Parameters</h3>
			<dl>
				<dt>Obliqueness</dt>
				<dd><div id="param-obliqueness"></div></dd>
				<dt>Width</dt>
				<dd><div id="param-width"></div></dd>
			</dl>
		</div>
		<script>
			var key,
				paper = Raphael( 20, 20, 400, 400 ).setViewBox( -0.5, -0.5, 2, 2, true ),
				preview = paper.set(),
				guides = paper.set(),
				font = new tg.Font(),
				glyph = font.getGlyph( 'A' );

			// Setup guides
			guides
				.push(
					// Ascent
					paper.path( 'M-1,-0.15L2,-0.15' ),
					// Cap
					paper.path( 'M-1,0L2,0' ),
					// Mean
					paper.path( 'M-1,0.5L2,0.5' ),
					// Base
					paper.path( 'M-1,1L2,1' ),
					// Descent
					paper.path( 'M-1,1.3L2,1.3' )
				)
				.attr( {
					'stroke': '#ddd',
					'stroke-width': '0.5',
				} );

			function update() {
				preview.remove();
				preview.push(
					paper.path( glyph.getPath() )
						.attr( { 'stroke': 'black', 'stroke-width': '3' } )
				);
			}

			$( '#param-obliqueness' ).slider( {
				'value': 0,
				'min': -1,
				'max': 1,
				'step': 0.01,
				'slide': function ( event, ui ) {
					font.setParam( 'obliqueness', ui.value );
					update();
				}
			} );
			$( '#param-width' ).slider( {
				'value': 1,
				'min': 0,
				'max': 2,
				'step': 0.01,
				'slide': function ( event, ui ) {
					font.setParam( 'width', ui.value );
					update();
				}
			} );

			update();
		</script>
	</body>
</html>